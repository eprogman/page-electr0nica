---
import Layout from "../layouts/Layout.astro";
import { Proyectos } from "../components/Proyectos.jsx";
import datosJSON from "../config/data_proyectos.json";
import Preguntas_frecuentes from "../components/Preguntas_frecuentes.astro";
import CuadroDATA from "../components/CuadroDATA.astro";
import { get_DatosAPI } from "../lib/query_de_API.js";

const data = await get_DatosAPI();
---

<Layout>
	<!-- EnvÃ­o al componente CuadroDATA -->
	<CuadroDATA resolve={data} />

	<!-- LLamo data_proyectos.json para ser enviado a componente Proyectos y mostrado en cuerpo principal (se usa componente REACT)-->
	{
		datosJSON.map((dato) => {
			return <Proyectos client:load dato={dato} />;
		})
	}

	<!-- LLamo componente Preguntas_frecuentes que es mostrado debajo-->
	<Preguntas_frecuentes />
</Layout>
